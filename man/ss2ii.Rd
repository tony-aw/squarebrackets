% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ss2ii.R
\name{ss2ii}
\alias{ss2ii}
\alias{ss2coord}
\alias{coord2ss}
\alias{coord2ii}
\alias{ii2coord}
\title{Convert Subscripts to Coordinates, Coordinates to Interior Indices, and Vice-Versa}
\usage{
ss2coord(sub, x.dim)

coord2ss(coord)

coord2ii(coord, x.dim, checks = TRUE)

ii2coord(ind, x.dim)

ss2ii(sub, x.dim, checks = TRUE)
}
\arguments{
\item{sub}{a list of integer subscripts. \cr
The first element of the list corresponds to the first dimension (rows),
the second element to the second dimensions (columns),
etc. \cr
The length of \code{sub} must be equal to the length of \code{x.dim}. \cr
One cannot give an empty subscript;
instead fill in something like \code{seq_len(dim(x)[margin])}. \cr
NOTE: The \code{coord2ss()} function does not support duplicate subscripts.}

\item{x.dim}{an integer vector giving the dimensions of the array in question. I.e. \code{dim(x)}.}

\item{coord}{an integer matrix, giving the coordinate indices (subscripts) to convert. \cr
Each row is an index, and each column is the dimension. \cr
The first columns corresponds to the first dimension,
the second column to the second dimensions,
etc. \cr
The number of columns of \code{coord} must be equal to the length of \code{x.dim}. \cr}

\item{checks}{Boolean, indicating if arguments checks should be performed. \cr
Defaults to \code{TRUE}. \cr
Can be set to \code{FALSE} for minor speed improvements. \cr
\ifelse{html}{\figure{for_performance-set_to_FALSE-red.svg}{options: alt='[for performance: set to FALSE]'}}{\link[=squarebrackets_help]{for performance: set to FALSE}} \cr}

\item{ind}{an integer vector, giving the interior position indices to convert.}
}
\value{
For \code{ss2coord()} and \code{ii2coord()}: \cr
Returns an integer matrix of coordinates
(with properties as described in argument \code{coord}). \cr
\cr
For \code{coord2ii()}: \cr
Returns an numeric vector of interior indices
(with properties as described in argument \code{ind}). \cr
\cr
For \code{coord2ss()}: \cr
Returns a list of integer subscripts
(with properties as described in argument \code{sub}) \cr
\cr
For \code{ss2ii()}: \cr
Returns an integer vector of interior indices(if \code{prod(x.dim) < (2^31 - 1)}),
or an numeric vector of interior indices (if \code{prod(x.dim) >= (2^31 - 1)}). \cr
\cr
}
\description{
These functions convert a list of integer subscripts to an integer matrix of coordinates,
an integer matrix of coordinates to an integer vector of interior indices,
and vice-versa. \cr
Inspired by the \code{sub2ind} function from 'MatLab'. \cr
\itemize{
\item \code{ss2coord()}
converts a list of integer subscripts to an integer matrix of coordinates.
\item \code{coord2ii()}
converts an integer matrix of coordinates to an integer vector of interior indices.
\item \code{ii2coord()}
converts an integer vector of interior indices to an integer matrix of coordinates.
\item \code{coord2ss()}
converts an integer matrix of coordinates to a list of integer subscripts; \cr
it performs a very simple (one might even say naive) conversion. \cr
\item \code{ss2ii()}
is a faster and more memory efficient version of \cr
\code{ss2coord(sub, x.dims) |> coord2ii(x.dims)} \cr \cr
}

All of these functions are written to be memory-efficient. \cr
The \code{coord2ii()} is thus the opposite of \link{arrayInd},
and \code{ii2coord} is merely a convenient wrapper around \link{arrayInd}. \cr
\cr
}
\details{
The base S3 vector and array classes in 'R' use the standard Linear Algebraic convention,
as in academic fields like Mathematics and Statistics,
in the following sense: \cr
\itemize{
\item vectors are \bold{column} vectors (i.e. vertically aligned vectors);
\item index counting starts at \code{1};
\item rows are the first dimension/subscript, columns are the second dimension/subscript, etc.
}

Thus, the orientation of interior indices in, for example,
a 4-rows-by-5-columns matrix, is as follows:

\if{html}{\out{<div class="sourceCode">}}\preformatted{     [,1] [,2] [,3] [,4] [,5]
[1,]    1    5    9   13   17
[2,]    2    6   10   14   18
[3,]    3    7   11   15   19
[4,]    4    8   12   16   20
}\if{html}{\out{</div>}}

So in a 4 by 5 matrix, subscript \verb{[1, 2]} corresponds to interior index \code{5}. \cr
Array subscripting in 'squarebrackets' also follows this standard convention. \cr
\cr
}
\note{
These functions were not specifically designed for duplicate indices per-s√©. \cr
For efficiency, they do not check for duplicate indices either. \cr
}
\examples{

x.dim <- c(10, 10, 3)
x.len <- prod(x.dim)
x <- array(1:x.len, x.dim)
sub <- list(c(4, 3), c(3, 2), c(2, 3))
coord <- ss2coord(sub, x.dim)
print(coord)
ind <- coord2ii(coord, x.dim)
print(ind)
all(x[ind] == c(x[c(4, 3), c(3, 2), c(2, 3)])) # TRUE
coord2 <- ii2coord(ind, x.dim)
print(coord)
all(coord == coord2) # TRUE
sub2 <- coord2ss(coord2)
sapply(1:3, \(i) sub2[[i]] == sub[[i]]) |> all() # TRUE

}
