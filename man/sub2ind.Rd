% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sub2ind.R
\name{sub2ind}
\alias{sub2ind}
\alias{sub2coord}
\alias{coord2sub}
\alias{coord2ind}
\alias{ind2coord}
\title{Convert Subscripts to Coordinates, Coordinates to Flat Indices, and Vice-Versa}
\usage{
sub2coord(sub, x.dim)

coord2sub(coord)

coord2ind(coord, x.dim, checks = TRUE)

ind2coord(ind, x.dim)

sub2ind(sub, x.dim, checks = TRUE)
}
\arguments{
\item{sub}{a list of integer subscripts. \cr
The first element of the list corresponds to the first dimension (rows),
the second element to the second dimensions (columns),
etc. \cr
The length of \code{sub} must be equal to the length of \code{x.dim}. \cr
One cannot give an empty subscript;
instead fill in something like \code{seq_len(dim(x)[margin])}. \cr
NOTE: The \code{coord2sub()} function does not support duplicate subscripts.}

\item{x.dim}{an integer vector giving the dimensions of the array in question. I.e. \code{dim(x)}.}

\item{coord}{an integer matrix, giving the coordinate indices (subscripts) to convert. \cr
Each row is an index, and each column is the dimension. \cr
The first columns corresponds to the first dimension,
the second column to the second dimensions,
etc. \cr
The number of columns of \code{coord} must be equal to the length of \code{x.dim}. \cr}

\item{checks}{Boolean, indicating if arguments checks should be performed. \cr
Defaults to \code{TRUE}. \cr
Can be set to \code{FALSE} for minor speed improvements. \cr
\ifelse{html}{\figure{for_performance-set_to_FALSE-red.svg}{options: alt='[for performance: set to FALSE]'}}{\link[=squarebrackets_help]{for performance: set to FALSE}} \cr}

\item{ind}{an integer vector, giving the flat position indices to convert.}
}
\value{
For \code{sub2coord()} and \code{ind2coord()}: \cr
Returns an integer matrix of coordinates
(with properties as described in argument \code{coord}). \cr
\cr
For \code{coord2ind()}: \cr
Returns an numeric vector of flat indices
(with properties as described in argument \code{ind}). \cr
\cr
For \code{coord2sub()}: \cr
Returns a list of integer subscripts
(with properties as described in argument \code{sub}) \cr
\cr
For \code{sub2ind()}: \cr
Returns an integer vector of flat indices(if \code{prod(x.dim) < (2^31 - 1)}),
or an numeric vector of flat indices (if \code{prod(x.dim) >= (2^31 - 1)}). \cr
\cr
}
\description{
These functions convert a list of integer subscripts to an integer matrix of coordinates,
an integer matrix of coordinates to an integer vector of flat indices,
and vice-versa. \cr
Inspired by the \code{sub2ind} function from 'MatLab'. \cr
\itemize{
\item \code{sub2coord()}
converts a list of integer subscripts to an integer matrix of coordinates.
\item \code{coord2ind()}
converts an integer matrix of coordinates to an integer vector of flat indices.
\item \code{ind2coord()}
converts an integer vector of flat indices to an integer matrix of coordinates.
\item \code{coord2sub()}
converts an integer matrix of coordinates to a list of integer subscripts; \cr
it performs a very simple (one might even say naive) conversion. \cr
\item \code{sub2ind()}
is a faster and more memory efficient version of \cr
\code{coord2ind(sub2coord(sub, x.dims), x.dims)} \cr
(especially for up to 8 dimensions). \cr
}

All of these functions are written to be memory-efficient. \cr
The \code{coord2ind()} is thus the opposite of \link{arrayInd},
and \code{ind2coord} is merely a convenient wrapper around \link{arrayInd}. \cr
\cr
Note that the equivalent to the \code{sub2ind} function from 'MatLab'
is actually the \code{coord2ind()} function here. \cr \cr
}
\note{
These functions were not specifically designed for duplicate indices per-s√©. \cr
For efficiency, they do not check for duplicate indices either. \cr
}
\examples{

x.dim <- c(10, 10, 3)
x.len <- prod(x.dim)
x <- array(1:x.len, x.dim)
sub <- list(c(4, 3), c(3, 2), c(2, 3))
coord <- sub2coord(sub, x.dim)
print(coord)
ind <- coord2ind(coord, x.dim)
print(ind)
all(x[ind] == c(x[c(4, 3), c(3, 2), c(2, 3)])) # TRUE
coord2 <- ind2coord(ind, x.dim)
print(coord)
all(coord == coord2) # TRUE
sub2 <- coord2sub(coord2)
sapply(1:3, \(i) sub2[[i]] == sub[[i]]) |> all() # TRUE

}
