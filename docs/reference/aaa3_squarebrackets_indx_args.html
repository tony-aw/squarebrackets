<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="There are 6 types of arguments that can be used
in the generic methods of 'squarebrackets' to specify the indices to perform operations on:
i: to specify flat (i.e. dimensionless) indices.
row, col: to specify rows and/or columns in tabular objects.
idx, dims: to specify indices of arbitrary dimensions in arrays.
rcl: to specify rows (first dimension),
columns (second dimension),
and layers (third dimension),
in arrays that have exactly 3 dimensions.
lvl: specify levels, for factors only.
filter, vars: to specify rows and/or columns specifically in data.frame-like objects.  


In this help page, x refers to the object to be sub-setted. 
"><title>Index Arguments in the Generic Sub-setting Methods — aaa3_squarebrackets_indx_args • squarebrackets</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto_Serif-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Index Arguments in the Generic Sub-setting Methods — aaa3_squarebrackets_indx_args"><meta property="og:description" content="There are 6 types of arguments that can be used
in the generic methods of 'squarebrackets' to specify the indices to perform operations on:
i: to specify flat (i.e. dimensionless) indices.
row, col: to specify rows and/or columns in tabular objects.
idx, dims: to specify indices of arbitrary dimensions in arrays.
rcl: to specify rows (first dimension),
columns (second dimension),
and layers (third dimension),
in arrays that have exactly 3 dimensions.
lvl: specify levels, for factors only.
filter, vars: to specify rows and/or columns specifically in data.frame-like objects.  


In this help page, x refers to the object to be sub-setted. 
"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">squarebrackets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/a_benchmarks_x.html">Benchmarks - sb_x</a>
    <a class="dropdown-item" href="../articles/Extra_Examples.html">Additional Examples</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Index Arguments in the Generic Sub-setting Methods</h1>
      
      <div class="d-none name"><code>aaa3_squarebrackets_indx_args.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>There are 6 types of arguments that can be used
in the generic methods of 'squarebrackets' to specify the indices to perform operations on:</p><ul><li><p><code>i</code>: to specify flat (i.e. dimensionless) indices.</p></li>
<li><p><code>row, col</code>: to specify rows and/or columns in tabular objects.</p></li>
<li><p><code>idx, dims</code>: to specify indices of arbitrary dimensions in arrays.</p></li>
<li><p><code>rcl</code>: to specify rows (first dimension),
columns (second dimension),
and layers (third dimension),
in arrays that have exactly 3 dimensions.</p></li>
<li><p><code>lvl</code>: specify levels, for factors only.</p></li>
<li><p><code>filter, vars</code>: to specify rows and/or columns specifically in data.frame-like objects. <br><br></p></li>
</ul><p>In this help page, <code>x</code> refers to the object to be sub-setted. <br><br></p>
    </div>


    <div class="section level2">
    <h2 id="argument-i">Argument i<a class="anchor" aria-label="anchor" href="#argument-i"></a></h2>
    

<p><img src="figures/class-atomic-red.svg" alt="[class: atomic]"><br><img src="figures/class-factor-red.svg" alt="[class: factor]"><br><img src="figures/class-list-red.svg" alt="[class: list]"><br></p>
<p>Any of the following can be specified for argument <code>i</code>:</p><ul><li><p><code>NULL</code>, only for multi-dimensional objects or factors,
when specifying the other arguments
(i.e. dimensional indices or factor levels.)</p></li>
<li><p>a vector of length 0,
in which case no indices are selected for the operation
(i.e. empty selection).</p></li>
<li><p>a <b>strictly positive integer</b> vector with indices.</p></li>
<li><p>a <b>logical vector</b> (without <code>NA</code>s!),
of the same length as <code>x</code>,
giving the indices to select for the operation.</p></li>
<li><p>a <b>character</b> vector of index names. <br>
If an object has multiple indices with the given name,
ALL the corresponding indices will be selected for the operation.</p></li>
<li><p>a <b>function</b> that takes as input <code>x</code>,
and returns a logical vector,
giving the element indices to select for the operation. <br>
For atomic objects, <code>i</code> is interpreted as <code>i(x)</code>. <br>
For lists, <code>i</code> is interpreted as <code>lapply(x, i)</code>. <br></p></li>
</ul><p>Using the <code>i</code> arguments corresponds to doing something like the following:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> <span class="fu">sb_x</span>(x, <span class="at">i =</span> i) <span class="co"># ==&gt; x[i]</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a> </span></code></pre><p></p></div>
<p>For a brief explanation of the relationship between flat indices (<code>i</code>),
and the dimension indices (<code>row</code>, <code>col</code>, etc.),
see the <code>Details</code> section in <a href="sub2ind.html">sub2ind</a>. <br></p>
    </div>
    <div class="section level2">
    <h2 id="arguments-row-col">Arguments row, col<a class="anchor" aria-label="anchor" href="#arguments-row-col"></a></h2>
    

<p><img src="figures/class-matrix-red.svg" alt="[class: matrix]"><br><img src="figures/class-data.frame-like-red.svg" alt="[class: data.frame-like]"><br></p>
<p>Any of the following can be specified for the arguments <code>row</code> / <code>col</code>:</p><ul><li><p><code>NULL</code> (default), corresponds to a missing argument,
which results in ALL of the indices in this dimension being selected for the operation.</p></li>
<li><p>a vector of length 0,
in which case no indices are selected for the operation (i.e. empty selection).</p></li>
<li><p>a <b>strictly positive integer</b> vector with dimension indices to select for the operation.</p></li>
<li><p>a <b>logical</b> vector (without <code>NA</code>s!) of the same length as the corresponding dimension size,
giving the indices of this dimension to select for the operation.</p></li>
<li><p>a <b>character</b> vector of index names. <br>
If an object has multiple indices with the given name,
ALL the corresponding indices will be selected for the operation.</p></li>
</ul><p>NOTE: The arguments <code>row</code> and <code>col</code> will be ignored if <code>i</code> is specified.</p>
<p>Using the <code>row, col</code> arguments corresponds to doing something like the following:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> <span class="fu">sb_x</span>(x, <span class="at">row =</span> row, <span class="at">col =</span> col) <span class="co"># ==&gt; x[row, col, drop = FALSE]</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a> </span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="arguments-idx-dims">Arguments idx, dims<a class="anchor" aria-label="anchor" href="#arguments-idx-dims"></a></h2>
    

<p><img src="figures/class-array-red.svg" alt="[class: array]"><br></p>
<p><code>idx</code> must be a list of indices. <br><code>dims</code> must be an integer vector of the same length as <code>idx</code>,
giving the dimensions to which the indices given in <code>idx</code> correspond to. <br>
The elements of <code>idx</code> follow the same rules as the rules for <code>row</code> and <code>col</code>,
EXCEPT one should not fill in <code>NULL</code>. <br>
NOTE: The arguments <code>idx</code> and <code>dims</code> will be ignored if <code>i</code> is specified. <br><br>
To keep the syntax short,
the user can use the <a href="nest.html">n</a> function instead of <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> to specify <code>idx</code>. <br><br>
Using the <code>idx, dims</code> arguments,
corresponds to doing something like the following,
here using an example of a 4-dimensional array:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">sb_x</span>(x, <span class="fu">n</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>), <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)) <span class="co"># ==&gt; x[1:10, , 1:5, , drop = FALSE]</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="arguments-rcl">Arguments rcl<a class="anchor" aria-label="anchor" href="#arguments-rcl"></a></h2>
    

<p><img src="figures/class-array-red.svg" alt="[class: array]"><br></p>
<p>The <code>rcl</code> argument is only applicable for arrays with exactly 3 dimensions. <br>
If the user knows a-priori that an array has 3 dimensions,
using <code>rcl</code> is more efficient than using the <code>idx, dims</code> arguments. <br><br>
The <code>rcl</code> argument must be a list of exactly 3 elements,
with the first element giving the indices of the first dimension (rows),
the second element giving the indices of the second dimension (columns),
and the third element giving the indices of the third and last dimension (layers);
thus <code>rcl</code> stands for "rows, columns, layers"
(i.e. the 3 dimensions of a 3-dimensional array). <br>
For each of the aforementioned 3 elements of the list <code>rcl</code>,
any of the following can be specified:</p><ul><li><p><code>NULL</code>, corresponds to a missing argument,
which results in ALL of the indices in this dimension being selected for the operation.</p></li>
<li><p>a vector of length 0,
in which case no indices are selected for the operation (i.e. empty selection).</p></li>
<li><p>a <b>strictly positive integer</b> vector with dimension indices to select for the operation.</p></li>
<li><p>a <b>logical</b> vector (without <code>NA</code>s!) of the same length as the corresponding dimension size,
giving the indices of this dimension to select for the operation.</p></li>
<li><p>a <b>character</b> vector of index names. <br>
If an object has multiple indices with the given name,
ALL the corresponding indices will be selected for the operation.</p></li>
</ul><p>By default <code>rcl</code> is not a list but simply <code>NULL</code>,
to be used when specifying the other arguments (either <code>idx, dims</code> or <code>i</code>). <br><br>
To keep the syntax short,
the user can use the <a href="nest.html">n</a> function instead of <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> to specify <code>rcl</code>. <br><br>
Using the <code>rcl</code> argument corresponds to doing something like the following:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">sb_x</span>(x, <span class="at">rcl =</span> <span class="fu">n</span>(<span class="cn">NULL</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)) <span class="co"># ==&gt; x[, 1:10, 1:5, drop = FALSE]</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="argument-lvl">Argument lvl<a class="anchor" aria-label="anchor" href="#argument-lvl"></a></h2>
    

<p><img src="figures/class-factor-red.svg" alt="[class: factor]"><br></p>
<p>For this argument, the names of the levels of <code>x</code> can be given,
selecting the corresponding indices for the operation. <br><br></p>
    </div>
    <div class="section level2">
    <h2 id="arguments-filter-vars">Arguments filter, vars<a class="anchor" aria-label="anchor" href="#arguments-filter-vars"></a></h2>
    

<p><img src="figures/class-data.frame-like-red.svg" alt="[class: data.frame-like]"><br></p>
<p><code>filter</code> must be a one-sided formula
with a single logical expression using the column names of the data.frame,
giving the condition which observation/row indices should be selected for the operation. <br>
For example,
to perform an operation on the rows for which column <code>height &gt; 2</code> and for which column <code>sex != "female"</code>,
specify the following formula:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="op">~</span> <span class="op">(</span><span class="va">height</span> <span class="op">&gt;</span> <span class="fl">2</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"female"</span><span class="op">)</span></span></code></pre><p></p></div>
<p>If the formula is linked to an environment,
any variables not found in the data set will be searched from the environment. <br><br><code>vars</code> must be a function that returns a logical vector,
giving the column indices to select for the operation. <br>
For example, to select all numeric columns, specify <code>vars = is.numeric</code>. <br><br></p>
    </div>
    <div class="section level2">
    <h2 id="duplicates-for-names-integers-and-levels-">Duplicates (for Names, Integers, and Levels)<a class="anchor" aria-label="anchor" href="#duplicates-for-names-integers-and-levels-"></a></h2>
    

<p>Generally speaking, duplicate names, integers, or levels are NOT allowed in index selection. <br>
The exception is the <a href="sb_x.html">sb_x</a> method,
as that method can be used for duplicating indices. <br><br></p>
    </div>
    <div class="section level2">
    <h2 id="out-of-bounds-integers-and-unknown-names-levels">Out-of-Bounds Integers and Unknown Names/Levels<a class="anchor" aria-label="anchor" href="#out-of-bounds-integers-and-unknown-names-levels"></a></h2>
    

<p>Integers that are out of bounds always give an error. <br>
Specifying unknown names/levels is considered a form of zero-length indexing. <br><br></p>
    </div>
    <div class="section level2">
    <h2 id="disallowed-combinations-of-index-arguments">Disallowed Combinations of Index Arguments<a class="anchor" aria-label="anchor" href="#disallowed-combinations-of-index-arguments"></a></h2>
    


<p>One cannot specify <code>i</code> and  the other indexing arguments simultaneously;
it's either <code>i</code>, or the other arguments. <br>
The arguments are  evaluated in the following order:</p><ol><li><p>Argument <code>i</code></p></li>
<li><p>Argument <code>lvl</code> (for factors) or argument <code>rcl</code> (for 3-dimensional arrays)</p></li>
<li><p>The rest of the indexing arguments.</p></li>
</ol><p>One cannot specify <code>row</code> and <code>filter</code> simultaneously.
It's either one or the other. Similarly,
one cannot specify <code>col</code> and <code>vars</code> simultaneously. <br>
In the above cases it holds that if one set is specified, the other is set is ignored. <br><br></p>
    </div>
    <div class="section level2">
    <h2 id="drop">Drop<a class="anchor" aria-label="anchor" href="#drop"></a></h2>
    

<p>Sub-setting with the generic methods from the 'squarebrackets' R-package using dimensional arguments
(<code>row, col, lyr, idx, dims, filter, vars</code>)
always use <code>drop = FALSE</code>. <br>
To drop potentially redundant (i.e. single level) dimensions,
use the <a href="https://rdrr.io/r/base/drop.html" class="external-link">drop</a> function, like so:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> <span class="fu">sb_x</span>(x, <span class="at">row =</span> row, <span class="at">col =</span> col) <span class="sc">|&gt;</span> <span class="fu">drop</span>() <span class="co"># ==&gt; x[row, col, drop = TRUE]</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a> </span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="first-last-and-shuffle">First, Last, and Shuffle<a class="anchor" aria-label="anchor" href="#first-last-and-shuffle"></a></h2>
    

<p>The indices are counted forward. I.e. <code>1</code> is the first element, not the last. <br>
One can use the <a href="https://rdatatable.gitlab.io/data.table/reference/last.html" class="external-link">last</a> function to get the last <code>N</code> indices. <br><br>
One can use the <a href="https://rdatatable.gitlab.io/data.table/reference/last.html" class="external-link">first</a> function to get the first <code>N</code> indices. <br><br>
To shuffle elements of indices, use the <a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a> function. <br><br></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Tony Wilkes.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

